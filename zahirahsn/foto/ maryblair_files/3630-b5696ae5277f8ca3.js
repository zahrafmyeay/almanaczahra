"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3630],{73630:function(e,n,t){t.r(n),t.d(n,{__N_SSP:function(){return Xt},default:function(){return Jt}});var i=t(98788),a=t(45680),r=t(52322),o=t(66898),s=t(11778),l=t(70314),d=t.n(l),c=t(2784),u=t(15907),f=t(25436),m=t(57531),p=t(16189),g=(0,p.createLogger)()("util_fetchAdServiceAd"),h=function(){var e=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,u.makeAdServiceAdAJAXRequest)(e)];case 1:return[2,t.sent()];case 2:return n=t.sent(),g.error("makeAdServiceAdAJAXRequest failed",n),[2,null];case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),v=t(70865),I=t(96670),E=t(33192),T=t(14865),b=t(45103),w=t(32735),y=t(92228),A=t(30382),_=t.n(A),x=t(73857),S=t(30740),M=t(1768),L=t(42591),C=t(19596),P=t(91842);function D(){var e=(0,y.Z)(["\n    ","\n    ","\n"]);return D=function(){return e},e}function N(){var e=(0,y.Z)(["\n    ","\n    ","\n"]);return N=function(){return e},e}function R(){var e=(0,y.Z)(["\n    ","\n    ","\n"]);return R=function(){return e},e}function O(){var e=(0,y.Z)(["\n    ","\n    ","\n"]);return O=function(){return e},e}var Z="\n    position: absolute;\n    left: 50%;\n    user-select: none;\n    max-height: 100%;\n    max-width: 100%;\n\n    /* hide left/right image affordance when not on a touch device */\n    ".concat(P.mediaQueries.devices.onCursorScreens," {\n        &.peek { display: none; }\n    }\n"),k="\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    left: 50%;\n",j="\n    top: 40%;\n    transform: translate(-50%, -40%);\n",B="\n    top: 20%;\n    transform: translate(-50%, -20%);\n",$=C.default.img.withConfig({componentId:"sc-7c0a9e7c-0"})(D(),Z,j),V=C.default.img.withConfig({componentId:"sc-7c0a9e7c-1"})(N(),Z,B),H=C.default.div.withConfig({componentId:"sc-7c0a9e7c-2"})(R(),k,j),G=C.default.div.withConfig({componentId:"sc-7c0a9e7c-3"})(O(),k,B);function U(){var e=(0,y.Z)(["\n    fragment MediaViewerImageMeta on Image {\n        id\n        url\n        height\n        width\n        caption {\n            plainText\n        }\n    }\n"]);return U=function(){return e},e}var W=_()(U());function F(e,n){return e>n?{ImageElement:$,ContainerElement:H}:{ImageElement:V,ContainerElement:G}}var Y=function(e){var n,t,i,a=e.image,o=e.offset,s=e.prevImage,l=e.nextImage,d=(0,x.Z)(),c=(0,S.wL)("MediaViewer_Image");if(!a||!a.url||!a.height||!a.width)return c.error("mediaviewer image missing required metadata",{id:a.id}),(0,r.jsx)(G,{className:"image-metadata-failure",children:(0,r.jsx)(L.F,{})});var u,f,m,p,g=F(a.height,a.width),h=g.ImageElement,v=g.ContainerElement,I=F(null!==(u=null===s||void 0===s?void 0:s.height)&&void 0!==u?u:0,null!==(f=null===s||void 0===s?void 0:s.width)&&void 0!==f?f:0),E=I.ImageElement,T=I.ContainerElement,b=F(null!==(m=null===l||void 0===l?void 0:l.height)&&void 0!==m?m:0,null!==(p=null===l||void 0===l?void 0:l.width)&&void 0!==p?p:0),w=b.ImageElement,y=b.ContainerElement,A=d.formatMessage({id:"mediaViewerImage_alt_missingCaption",defaultMessage:"Photo is missing caption."}),_=o||0;return(0,r.jsxs)(r.Fragment,{children:[s&&s.url&&(0,r.jsx)(T,{style:{maxHeight:"".concat(s&&s.height||a.height,"px"),maxWidth:"".concat(s&&s.width||a.width,"px"),left:"calc(-60% + ".concat(_,"px)")},children:(0,r.jsx)(E,{className:"peek",src:s.url,sizes:"100vw",srcSet:(0,M.gA)(s,!0),"data-image-id":"".concat(s.id,"-prev"),alt:(null===(n=s.caption)||void 0===n?void 0:n.plainText)||A})}),(0,r.jsx)(v,{style:{maxHeight:"".concat(a.height,"px"),maxWidth:"".concat(a.width,"px"),left:"calc(50% + ".concat(_,"px)")},children:(0,r.jsx)(h,{src:a.url,sizes:"100vw",srcSet:(0,M.gA)(a,!0),"data-image-id":"".concat(a.id,"-curr"),alt:(null===(t=a.caption)||void 0===t?void 0:t.plainText)||A})}),l&&l.url&&(0,r.jsx)(y,{style:{maxHeight:"".concat(l&&l.height||a.height,"px"),maxWidth:"".concat(l&&l.width||a.width,"px"),left:"calc(160% + ".concat(_,"px)")},children:(0,r.jsx)(w,{className:"peek",src:l.url,sizes:"100vw",srcSet:(0,M.gA)(l,!0),"data-image-id":"".concat(l.id,"-prev"),alt:(null===(i=l.caption)||void 0===i?void 0:i.plainText)||A})})]})};Y.fragments={image:W};var Q=Y,q=t(23695),z=t(35756),K=t(72779),X=t.n(K),J=t(11998),ee=t(31619),ne=t(20701);function te(e){var n=e.attributionUrl,t=e.text||n;return n&&t?'<a href="'.concat(n,'" target="_blank" rel="noopener nofollow">').concat(t,"</a>"):t?"".concat(t):void 0}var ie=t(8451),ae=t(26806),re=t(35355),oe=t(26688);function se(){var e=(0,y.Z)(["\n    "," {\n        margin-right: calc(var(--ipt-pageMargin) - 0.75rem);\n    }\n"]);return se=function(){return e},e}var le=(0,C.default)(b.IconButton).withConfig({componentId:"sc-860b674-0"})(se(),P.mediaQueries.breakpoints.above.l),de=function(e){var n=e.name,t=e.label,i=e.className,a=e.isButton,o=e.onSelect,s=e.href,l={name:n,label:t,className:i,onSelect:o,"data-testid":"mv-contrib-".concat(n)};return(0,r.jsx)(le,(0,I.Z)((0,v.Z)({},l),{href:a?void 0:s}))};function ce(){var e=(0,y.Z)(['\n                        query ContributeActionButton(\n                            $imageId: ID!\n                            $relatedId: ID!\n                            $returnUrl: URL!\n                        ) {\n                            image(id: $imageId) {\n                                correctionLink(\n                                    relatedId: $relatedId\n                                    contributionContext: {\n                                        isInIframe: false\n                                        returnUrl: $returnUrl\n                                        business: "consumer"\n                                    }\n                                ) {\n                                    url\n                                }\n                                reportingLink(\n                                    relatedId: $relatedId\n                                    contributionContext: {\n                                        isInIframe: false\n                                        returnUrl: $returnUrl\n                                        business: "consumer"\n                                    }\n                                ) {\n                                    url\n                                }\n                            }\n                        }\n                    ']);return ce=function(){return e},e}var ue=function(e){var n=(0,ae.m8)(),t=(0,re.nu)(),i=(0,b.useBreakpointsAsConfig)();if(!e.flow)return null;var a="".concat(e.flow.desktopLink,"&ref_=").concat(e.refTagPrefix,"_edt"),o=i.l||i.xl;return(0,r.jsx)(de,{name:e.actionName,label:e.label,className:X()(e.className),onSelect:function(i){o?t?e.flow.desktopOnOpen():(0,oe.r)("mv_signin"):(i.preventDefault(),n.query(_()(ce()),(0,I.Z)((0,v.Z)({},e.query),{returnUrl:window.location.href})).toPromise().then((function(n){var t=e.flow.resolveMobileURL(n.data.image);window.open(t,"_self")})).catch((function(e){throw e})))},href:a,isButton:o})};function fe(){var e=(0,y.Z)(["\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    max-height: calc(53% - 1.5rem);\n    display: flex;\n    z-index: 2;\n    "," {\n        max-height: calc(50%);\n    }\n"]);return fe=function(){return e},e}function me(){var e=(0,y.Z)(["\n    position: relative;\n    display: flex;\n    width: 100%;\n"]);return me=function(){return e},e}function pe(){var e=(0,y.Z)(["\n    ","\n    ","\n    background: rgba(",", 0.85);\n    background: rgba(",", 0.85);\n    border-top: 1px solid ",";\n    border-top: 1px solid ",";\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    transition: all 0.5s ease-out "," {\n        height: 100%;\n        overflow: hidden;\n    }\n"]);return pe=function(){return e},e}function ge(){var e=(0,y.Z)(["\n    ","\n    ","\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem 1rem;\n    padding: 0.5rem ",";\n    flex-shrink: 0;\n"]);return ge=function(){return e},e}function he(){var e=(0,y.Z)(["\n    display: none;\n    "," {\n        display: flex;\n    }\n"]);return he=function(){return e},e}function ve(){var e=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    "," {\n        height: 100%;\n    }\n"]);return ve=function(){return e},e}function Ie(){var e=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    flex-grow: 2;\n    "," {\n        flex-direction: row;\n        overflow: hidden;\n        ","\n    }\n"]);return Ie=function(){return e},e}function Ee(){var e=(0,y.Z)(["\n    width: 100%;\n    text-align: center;\n    padding: 0 1rem 0.5rem 1rem;\n    padding: 0 "," 0.5rem\n        ",";\n    "," {\n        ","\n    }\n"]);return Ee=function(){return e},e}function Te(){var e=(0,y.Z)(["\n    padding: 0 1rem 1rem;\n    padding: 0 "," 1rem;\n    "," {\n        overflow: auto;\n        flex-grow: 1;\n        width: 60%;\n        padding-right: 1rem;\n        height: 100%;\n    }\n"]);return Te=function(){return e},e}function be(){var e=(0,y.Z)(["\n    ","\n    margin: 0 1rem;\n    margin: 0 ",";\n    min-height: 1px;\n    min-width: 1px;\n    "," {\n        margin: 0 0 1rem 0;\n    }\n"]);return be=function(){return e},e}function we(){var e=(0,y.Z)(["\n    margin: 0 1rem;\n    margin: 0 ",";\n    padding-top: 1rem;\n    "," {\n        margin: 0;\n        padding: 0 0.25rem 1rem 1rem;\n        width: 35%;\n        overflow: auto;\n        height: 100%;\n    }\n"]);return we=function(){return e},e}function ye(){var e=(0,y.Z)(["\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem 0;\n    "," {\n        margin-top: -0.5rem;\n        justify-content: flex-start;\n        flex-shrink: 1;\n        flex-direction: column;\n        padding-top: 0;\n    }\n"]);return ye=function(){return e},e}function Ae(){var e=(0,y.Z)(["\n    ","\n    top: -1.125rem;\n    z-index: 1;\n    transition: opacity 0.5s ease-in;\n    opacity: ",";\n    visibility: ",";\n"]);return Ae=function(){return e},e}function _e(){var e=(0,y.Z)(["\n    ","\n    bottom: 4rem;\n    transition: opacity 0.5s ease-in;\n    opacity: ",";\n    visibility: ",";\n"]);return _e=function(){return e},e}function xe(){var e=(0,y.Z)(["\n    margin-bottom: 0.25rem;\n    ","\n"]);return xe=function(){return e},e}function Se(){var e=(0,y.Z)(["\n    margin-right: 0.5rem;\n    font-weight: 500;\n"]);return Se=function(){return e},e}function Me(){var e=(0,y.Z)(["\n    ","\n    ","\n"]);return Me=function(){return e},e}function Le(){var e=(0,y.Z)(["\n    max-width: 100%;\n"]);return Le=function(){return e},e}var Ce=C.default.div.withConfig({componentId:"sc-9422afe0-0"})(fe(),P.mediaQueries.devices.onTouchScreens),Pe=(0,C.default)(b.PageContentContainer).withConfig({componentId:"sc-9422afe0-1"})(me()),De=C.default.div.withConfig({componentId:"sc-9422afe0-2"})(pe(),(0,P.setTypographyType)("body"),(0,P.setPropertyToColorVar)("color","ipt-on-baseAlt-color"),(0,P.getColorVarValue)("ipt-baseAlt-shade3-rgb"),(0,P.getColorVar)("ipt-baseAlt-shade3-rgb"),(0,P.getColorVarValue)("ipt-baseAlt-border-color"),(0,P.getColorVar)("ipt-baseAlt-border-color"),P.mediaQueries.breakpoints.above.l),Ne=C.default.div.withConfig({componentId:"sc-9422afe0-3"})(ge(),(0,P.setTypographyType)("bodySmall"),(0,P.setPropertyToColorVar)("color","ipt-on-baseAlt-accent1-color"),(0,P.getSpacingVar)("ipt-pageMargin")),Re=C.default.span.withConfig({componentId:"sc-9422afe0-4"})(he(),P.mediaQueries.breakpoints.only.m),Oe="\n    position: relative;\n    &::after {\n        content: '';\n        background: linear-gradient(\n            to top,\n            ".concat((0,P.getColorVarValue)("ipt-baseAlt-shade3-color"),",\n            transparent\n        );\n        background: linear-gradient(\n            to top,\n            ").concat((0,P.getColorVar)("ipt-baseAlt-shade3-color"),",\n            transparent\n        );\n        height: 1rem;\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n    }\n"),Ze=C.default.div.withConfig({componentId:"sc-9422afe0-5"})(ve(),P.mediaQueries.breakpoints.above.l),ke=C.default.div.withConfig({componentId:"sc-9422afe0-6"})(Ie(),P.mediaQueries.breakpoints.above.l,Oe),je=C.default.div.withConfig({componentId:"sc-9422afe0-7"})(Ee(),(0,P.getSpacingVar)("ipt-pageMargin"),(0,P.getSpacingVar)("ipt-pageMargin"),P.mediaQueries.breakpoints.above.l,(0,P.setPropertyToColorVar)("background","ipt-baseAlt-shade3-bg")),Be=(0,C.default)(b.HTMLContent).withConfig({componentId:"sc-9422afe0-8"})(Te(),(0,P.getSpacingVar)("ipt-pageMargin"),P.mediaQueries.breakpoints.above.l),$e=C.default.div.withConfig({componentId:"sc-9422afe0-9"})(be(),(0,P.setPropertyToColorVar)("background","ipt-baseAlt-border-color"),(0,P.getSpacingVar)("ipt-pageMargin"),P.mediaQueries.breakpoints.above.l),Ve=C.default.div.withConfig({componentId:"sc-9422afe0-10"})(we(),(0,P.getSpacingVar)("ipt-pageMargin"),P.mediaQueries.breakpoints.above.l),He=C.default.div.withConfig({componentId:"sc-9422afe0-11"})(ye(),P.mediaQueries.breakpoints.above.l),Ge="\n    display: none;\n    position: absolute;\n    right: 4.5rem;\n    ".concat(P.mediaQueries.breakpoints.above.l," {\n        display: block;\n    }\n"),Ue=(0,C.default)(b.IconBorderButton).withConfig({componentId:"sc-9422afe0-12"})(Ae(),Ge,(function(e){return e.opacity}),(function(e){return e.visibility})),We=(0,C.default)(b.IconBorderButton).withConfig({componentId:"sc-9422afe0-13"})(_e(),Ge,(function(e){return e.opacity}),(function(e){return e.visibility})),Fe=C.default.div.withConfig({componentId:"sc-9422afe0-14"})(xe(),(0,P.setTypographyType)("bodySmall")),Ye=C.default.span.withConfig({componentId:"sc-9422afe0-15"})(Se()),Qe=(0,C.default)(b.HTMLContent).withConfig({componentId:"sc-9422afe0-16"})(Me(),(0,P.setPropertyToColorVar)("color","ipt-on-baseAlt-textSecondary-color"),(0,P.setTypographyType)("copyright")),qe=C.default.img.withConfig({componentId:"sc-9422afe0-17"})(Le()),ze=function(e){for(var n=[],t=e.refTagPrefix?"?ref_=".concat(e.refTagPrefix):"",i=0;i<e.array.length;i++){var a,o,s=e.array[i];(null===(a=s.nameText)||void 0===a?void 0:a.text)&&s.id?n.push((0,r.jsx)(b.TextLink,{href:"/name/".concat(s.id,"/").concat(t),text:s.nameText.text},"image-name-link-".concat(s.id))):(null===(o=s.titleText)||void 0===o?void 0:o.text)&&s.id?n.push((0,r.jsx)(b.TextLink,{href:"/title/".concat(s.id,"/").concat(t),text:s.titleText.text},"image-title-link-".concat(s.id))):s.text&&n.push((0,r.jsx)("span",{children:s.text},"item-meta-".concat(s.text))),i<e.array.length-1&&n.push(", ")}return(0,r.jsx)(r.Fragment,{children:n.length>0&&(0,r.jsxs)(Fe,{children:[(0,r.jsx)(Ye,{children:e.title}),(0,r.jsx)("span",{children:n})]})})},Ke=function(e){var n,t,i={closeSheetAriaLabel:(0,ee.N)(ie.KL.closeSheetAriaLabel),openSheetAriaLabel:(0,ee.N)(ie.KL.openSheetAriaLabel),editAriaLabel:(0,ee.N)(ie.KL.editAriaLabel),reportAriaLabel:(0,ee.N)(ie.KL.reportAriaLabel),nameLabel:(0,ee.N)(ie.KL.nameLabel),titleLabel:(0,ee.N)(ie.KL.titleLabel),countryLabel:(0,ee.N)(ie.KL.countryLabel),languageLabel:(0,ee.N)(ie.KL.languageLabel),photoByAttributionPrefix:(0,ee.N)(ie.KL.photoByAttributionPrefix),courtesyAttributionPrefix:(0,ee.N)(ie.KL.courtesyAttributionPrefix)},a=e.content,o=e.imageData,s=e.editFlow,l=e.reportFlow,d=e.isClosed,c=e.onCloseClicked,u=e.onOpenClicked,f=d,m=d?0:1,p=d?1:0,g=d?"hidden":"visible",h=d?"visible":"hidden",v=function(e,n){var t=e.copyright,i=e.createdBy,a=e.source;if(t||i||a){var r=a&&te(a)?"".concat(n.courtesyText," ").concat(te(a)):void 0,o=[i?"".concat(n.photoByText," ").concat(i):void 0,t?"&copy;&nbsp;".concat(t):void 0,r].filter((function(e){return!!e}));return o.length?o.join(" - "):void 0}}(o,{photoByText:i.photoByAttributionPrefix,courtesyText:i.courtesyAttributionPrefix}),I=function(){var e,n;"gettyimages.com"===(null===o||void 0===o||null===(e=o.source)||void 0===e?void 0:e.text)?(0,ne.P)("offsite-gettyimages"):"mptvimages.com"===(null===o||void 0===o||null===(n=o.source)||void 0===n?void 0:n.text)&&(0,ne.P)("offsite-mptvimages")};return(0,r.jsx)(Ce,{className:X()(e.className),children:(0,r.jsx)(b.SetPalette,{palette:"dark",children:(0,r.jsxs)(Pe,{children:[(0,r.jsx)(We,{name:"info",className:ie.$C.OPEN,label:i.openSheetAriaLabel,onSelect:u,opacity:p,visibility:h}),(0,r.jsx)(Ue,{label:i.closeSheetAriaLabel,className:ie.$C.CLOSE,name:"clear",onSelect:c,opacity:m,visibility:g}),(0,r.jsx)(De,{"aria-hidden":f,style:{opacity:m,visibility:g},"data-testid":ie.z7.PARENT,children:(0,r.jsxs)(Ze,{children:[(0,r.jsxs)(Ne,{role:"presentation",children:[(0,r.jsx)("span",{children:a.contextTitle}),(0,r.jsx)(Re,{"data-testid":ie.z7.COUNT_DISPLAY,children:a.contextCount})]}),(0,r.jsxs)(ke,{children:[(0,r.jsx)(Be,{html:(null===(n=o.caption)||void 0===n?void 0:n.plaidHtml)||""}),(0,r.jsx)($e,{}),(0,r.jsxs)(Ve,{children:[o.names&&(0,r.jsx)(ze,{array:o.names,title:i.nameLabel,refTagPrefix:e.refTagPrefix}),o.titles&&(0,r.jsx)(ze,{array:o.titles,title:i.titleLabel,refTagPrefix:e.refTagPrefix}),o.countries&&(0,r.jsx)(ze,{array:o.countries,title:i.countryLabel,refTagPrefix:e.refTagPrefix}),o.languages&&(0,r.jsx)(ze,{array:o.languages,title:i.languageLabel,refTagPrefix:e.refTagPrefix}),v&&(0,r.jsx)("div",{onClick:I,onKeyDown:function(e){!function(e,n){(0,J.isEnterOrSpaceKey)(e)&&n()}(e,I)},"data-testid":"copyright",children:(0,r.jsx)(Qe,{html:v})})]}),(0,r.jsxs)(He,{children:[(0,r.jsx)(ue,{flow:s,actionName:"edit",label:i.editAriaLabel,className:ie.$C.EDIT,refTagPrefix:e.refTagPrefix,query:{imageId:e.imageData.id,relatedId:e.listId}}),(0,r.jsx)(ue,{flow:l,label:i.reportAriaLabel,className:ie.$C.REPORT,actionName:"flag",refTagPrefix:e.refTagPrefix,query:{imageId:e.imageData.id,relatedId:e.listId}})]})]}),(null===(t=o.source)||void 0===t?void 0:t.banner)&&(0,r.jsx)(je,{"data-testid":ie.z7.ATTR_BANNER,children:(0,r.jsx)("a",{href:o.source.banner.attributionUrl,rel:"nofollow noopener noreferrer",target:"_blank",children:(0,r.jsx)(qe,{src:o.source.banner.url,height:o.source.banner.height,width:o.source.banner.width})})})]})})]})})})};Ke.fragments={image:ie._P,listItem:ie.yS};var Xe,Je=t(46651),en=t(69470),nn=t(90551),tn=t(36990),an=function(e){var n=e.galleryUrl,t=(0,ee.N)({id:"mediaViewer_ariaLabel_gallery",defaultMessage:"gallery"});return(0,r.jsx)(b.IconLink,{"data-testid":"mv-gallery-button",name:"grid-view",label:t,href:n})};function rn(){var e=(0,y.Z)(["\n    fragment MediaViewerMeta on ImageConnection {\n        pageInfo {\n            endCursor\n            hasNextPage\n            hasPreviousPage\n            startCursor\n        }\n        edges {\n            position\n            cursor\n            node {\n                ...MediaViewerImageMeta\n                ...MediaSheetImageMeta\n            }\n        }\n    }\n\n    ","\n    ","\n"]);return rn=function(){return e},e}function on(){var e=(0,y.Z)(["\n    fragment MediaViewerListMeta on ListConnection {\n        pageInfo {\n            endCursor\n            hasNextPage\n            hasPreviousPage\n            startCursor\n        }\n        edges {\n            position\n            cursor\n            node {\n                item {\n                    ...MediaViewerImageMeta\n                    ...MediaSheetImageMeta\n                }\n                ...MediaSheetListItemMeta\n            }\n        }\n    }\n    ","\n    ","\n    ","\n"]);return on=function(){return e},e}function sn(){var e=(0,y.Z)(["\n    query NameImages(\n        $id: ID!\n        $before: ID\n        $after: ID\n        $jumpTo: ID\n        $first: Int\n        $last: Int\n        $lastYes: Boolean!\n        $firstYes: Boolean!\n        $queryParams: String\n    ) {\n        name(id: $id) {\n            nameText {\n                text\n            }\n            meta {\n                publicationStatus\n            }\n            images(first: $first, after: $after, jumpTo: $jumpTo)\n                @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapFront: images(last: $last, before: $before)\n                @include(if: $lastYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapBack: images(first: $first) @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n        }\n    }\n    ","\n"]);return sn=function(){return e},e}function ln(){var e=(0,y.Z)(["\n    query TitleImages(\n        $id: ID!\n        $before: ID\n        $after: ID\n        $jumpTo: ID\n        $first: Int\n        $last: Int\n        $lastYes: Boolean!\n        $firstYes: Boolean!\n        $queryParams: String\n    ) {\n        title(id: $id) {\n            titleText {\n                text\n            }\n            meta {\n                publicationStatus\n            }\n            releaseYear {\n                year\n            }\n            images(first: $first, after: $after, jumpTo: $jumpTo)\n                @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapFront: images(last: $last, before: $before)\n                @include(if: $lastYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapBack: images(first: $first) @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n        }\n    }\n    ","\n"]);return ln=function(){return e},e}function dn(){var e=(0,y.Z)(["\n    query GalleryImages(\n        $id: ID!\n        $before: ID\n        $after: ID\n        $jumpTo: ID\n        $first: Int\n        $last: Int\n        $lastYes: Boolean!\n        $firstYes: Boolean!\n        $queryParams: String\n    ) {\n        imageGallery(id: $id) {\n            galleryText\n            images(first: $first, after: $after, jumpTo: $jumpTo)\n                @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapFront: images(last: $last, before: $before)\n                @include(if: $lastYes) {\n                total\n                ...MediaViewerMeta\n            }\n            wrapBack: images(first: $first) @include(if: $firstYes) {\n                total\n                ...MediaViewerMeta\n            }\n        }\n    }\n    ","\n"]);return dn=function(){return e},e}function cn(){var e=(0,y.Z)(["\n    query ListImages(\n        $id: ID!\n        $before: ID\n        $after: ID\n        $jumpTo: ID\n        $first: Int\n        $last: Int\n        $lastYes: Boolean!\n        $firstYes: Boolean!\n        $queryParams: String\n    ) {\n        list(id: $id) {\n            name {\n                originalText\n            }\n            items(first: $first, after: $after, jumpTo: $jumpTo)\n                @include(if: $firstYes) {\n                total\n                ...MediaViewerListMeta\n            }\n            wrapFront: items(last: $last, before: $before)\n                @include(if: $lastYes) {\n                total\n                ...MediaViewerListMeta\n            }\n            wrapBack: items(first: $first) @include(if: $firstYes) {\n                total\n                ...MediaViewerListMeta\n            }\n        }\n    }\n    ","\n"]);return cn=function(){return e},e}!function(e){e.TITLE="title",e.NAME="name",e.GALLERY="gallery",e.LIST="list"}(Xe||(Xe={}));var un=_()(rn(),Y.fragments.image,Ke.fragments.image),fn=_()(on(),Y.fragments.image,Ke.fragments.image,Ke.fragments.listItem),mn=_()(sn(),un),pn=_()(ln(),un),gn=_()(dn(),un),hn=_()(cn(),fn),vn=function(e){switch(e){case Xe.GALLERY:return gn;case Xe.LIST:return hn;case Xe.NAME:return mn;case Xe.TITLE:return pn;default:throw new Error("Unknown MediaViewerType: "+e)}},In=20,En={title:"title",name:"name",gallery:"imageGallery",list:"list"},Tn={title:"tt",name:"nm",gallery:"rg",list:"ls"},bn={right:"nxt",left:"prev"},wn={id:"mediaViewer_galleryCount_label",defaultMessage:"{position} of {total}"},yn={id:"mediaSheet_ariaLabel_previousImage",defaultMessage:"Previous"},An={id:"mediaSheet_ariaLabel_nextImage",defaultMessage:"Next"},_n={id:"common_ariaLabel_closePrompt",defaultMessage:"Close Prompt"},xn="media-viewer",Sn="media-viewer__action-bar",Mn="action-bar__gallery-count",Ln="media-viewer__media-sheet",Cn="media-viewer__page-right",Pn="media-viewer__page-left",Dn="media-viewer__loader",Nn="media-viewer__image",Rn="media-viewer__touch-handler",On="contribute-edit-drawer",Zn="contribute-edit-iframe",kn="contribute-report-drawer",jn="contribute-report-iframe",Bn="advertising banner/interstitial component or iframe are undefined",$n="banner or interstitial was clicked on, but no contentDocument was found in iframe",Vn="banner or interstitial was clicked on, but no clickable element was found in iframe",Hn=(0,p.createLogger)()("");function Gn(e,n,t){var i=null===n||void 0===n?void 0:n.querySelector("iframe");if(i){var a=i.contentDocument;if(a&&a.elementFromPoint){var r=i.getBoundingClientRect(),o=r.left,s=r.top,l=a.elementFromPoint(e.clientX-o,e.clientY-s);if(l)return l.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),void(0,ne.P)(t);var d=null===n||void 0===n?void 0:n.querySelector("#interstitial_sponsored");if(d){var c=d.getBoundingClientRect(),u=c.left,f=c.top,m=c.width,p=c.height,g=e.clientX-u,h=e.clientY-f;if(g>0&&g<=m&&h>0&&h<=p)return d.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),void(0,ne.P)(t)}Hn.error(Vn)}else Hn.error($n)}else Hn.error(Bn)}function Un(){var e=(0,y.Z)(["\n    ","\n\n    height: calc(100vh - 10rem);\n    "," {\n        height: calc(100vh - 7rem);\n    }\n"]);return Un=function(){return e},e}function Wn(){var e=(0,y.Z)(["\n    ","\n\n    height: calc(100vh - 7rem);\n    "," {\n        height: calc(100vh - 4rem);\n    }\n"]);return Wn=function(){return e},e}function Fn(){var e=(0,y.Z)(["\n    "," {\n        left: 0.25rem;\n    }\n    "," {\n        ","\n    }\n    ","\n"]);return Fn=function(){return e},e}function Yn(){var e=(0,y.Z)(["\n    "," {\n        right: 0.25rem;\n    }\n    "," {\n        ","\n    }\n    ","\n"]);return Yn=function(){return e},e}function Qn(){var e=(0,y.Z)(["\n    ","\n    height: '50px';\n    width: '365px';\n"]);return Qn=function(){return e},e}function qn(){var e=(0,y.Z)(["\n    ","\n    height: 100%;\n    width: 100%;\n\n    "," {\n        overflow-x: auto;\n    }\n"]);return qn=function(){return e},e}function zn(){var e=(0,y.Z)(["\n    "," {\n        position: absolute;\n        height: 100%;\n        width: 120%;\n    }\n\n    "," {\n        display: none;\n    }\n"]);return zn=function(){return e},e}function Kn(){var e=(0,y.Z)(["\n    ","\n"]);return Kn=function(){return e},e}function Xn(){var e=(0,y.Z)(["\n    && {\n        ","\n    }\n"]);return Xn=function(){return e},e}function Jn(){var e=(0,y.Z)(["\n    @keyframes slide-in {\n        0% {\n            left: 50%;\n        }\n        100% {\n            left: 50%;\n        }\n    }\n    ","\n    height: 100%;\n    width: 100%;\n    animation: slide-in 1s;\n    left: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1;\n    "," {\n        z-index: 0;\n    }\n    > div {\n        width: 100%;\n        height: 100%;\n    }\n\n    #interstitial_responsive_wrapper,\n    #interstitial_wrapper {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    #interstitialplaceholderPattern {\n        display: none;\n    }\n"]);return Jn=function(){return e},e}function et(){var e=(0,y.Z)(["\n    ","\n    vertical-align: middle;\n\n    "," {\n        display: none;\n    }\n\n    "," {\n        margin-right: 0.325rem;\n        text-align: right;\n    }\n"]);return et=function(){return e},e}var nt,tt,it=function(){return"\n    top: calc(47% - 4vh);\n    transform: translateY(-47%);\n"},at="\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n",rt="\n    overflow: hidden;\n    position: relative;\n\n    :focus {\n        outline: 0;\n    }\n\n    .".concat(On,", .").concat(kn," {\n        display: none;\n    }\n\n    ").concat(P.mediaQueries.breakpoints.above.m," {\n        height: calc(100vh - 7rem);\n\n        .").concat(On,",\n            .").concat(kn," {\n            display: block;\n        }\n    }\n"),ot=C.default.div.withConfig({componentId:"sc-4e84196d-0"})(Un(),rt,P.mediaQueries.breakpoints.above.m),st=C.default.div.withConfig({componentId:"sc-4e84196d-1"})(Wn(),rt,P.mediaQueries.breakpoints.above.m),lt=(0,C.default)(b.Pager).withConfig({componentId:"sc-4e84196d-2"})(Fn(),P.mediaQueries.breakpoints.below.xs,P.mediaQueries.breakpoints.above.xs,(0,P.setPropertyToSpacingVar)("left","ipt-pageMargin"),it),dt=(0,C.default)(b.Pager).withConfig({componentId:"sc-4e84196d-3"})(Yn(),P.mediaQueries.breakpoints.below.xs,P.mediaQueries.breakpoints.above.xs,(0,P.setPropertyToSpacingVar)("right","ipt-pageMargin"),it),ct="\n    position: absolute;\n    top: 0;\n    z-index: 1;\n    left: 50%;\n    transform: translateX(-50%);\n",ut=C.default.div.withConfig({componentId:"sc-4e84196d-4"})(Qn(),ct),ft=C.default.div.withConfig({componentId:"sc-4e84196d-5"})(qn(),ct,P.mediaQueries.devices.onTouchScreens),mt=C.default.div.withConfig({componentId:"sc-4e84196d-6"})(zn(),P.mediaQueries.devices.onTouchScreens,P.mediaQueries.devices.onCursorScreens),pt=C.default.div.withConfig({componentId:"sc-4e84196d-7"})(Kn(),at),gt=(0,C.default)(L.F).withConfig({componentId:"sc-4e84196d-8"})(Xn(),at),ht=C.default.div.withConfig({componentId:"sc-4e84196d-9"})(Jn(),at,(function(e){return"calc(50% + ".concat(e.offset,"px)")}),P.mediaQueries.devices.onTouchScreens),vt=C.default.span.withConfig({componentId:"sc-4e84196d-10"})(et(),(0,P.setPropertyToColorVar)("color","ipt-on-baseAlt-accent1-color"),P.mediaQueries.breakpoints.only.m,P.mediaQueries.breakpoints.above.m),It=function(e){var n=e.state,t=e.className,i=e.imagePosition,a={countLabel:(0,ee.N)(wn,{position:i,total:n.totalImages})},o="".concat(Tn[n.type],"_mv"),s=(0,c.useRef)(null);return(0,r.jsx)(tn.ol,{className:X()(Sn,u.MEDIAVIEWER_ACTIONBAR_CLASS,t),refTagPrefix:o,shareProps:{shareBody:Tt,emailSubject:Tt,label:Et},breadcrumbProps:{refTagPrefix:o,"data-testid":"mv-breadcrumb-close-button"},actions:(0,r.jsxs)(r.Fragment,{children:[!n.showInterstitial&&!!n.position&&n.totalImages&&(0,r.jsx)(vt,{"data-testid":Mn,children:a.countLabel}),(0,r.jsx)(an,{galleryUrl:o?"".concat(n.galleryUrl,"?ref_=").concat(o,"_sm"):n.galleryUrl})]}),heightClass:"extended",children:!n.showInterstitial&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en.ZP,{name:u.MEDIAVIEWER_BANNER_SLOT_NAME}),(0,r.jsx)(ut,{ref:s,onClick:function(e){Gn(e,s.current,"ad-banner")}})]})})},Et={id:"mediaViewer_ariaLabel_shareOnSocialMedia",defaultMessage:"share on social media"},Tt={id:"mediaViewer_shareText_viewThisImage",defaultMessage:"View this image on IMDb!"},bt=1e3/60;function wt(){clearTimeout(nt),nt=void 0}function yt(e){return e>0?Math.min(450,e):e<0?Math.max(-450,e):0}function At(e,n,t){Math.abs(e)<30?(n(0),wt()):(t(),n(yt(-e)),wt(),setTimeout((function(){return n(0)}),bt))}var _t=t(5632),xt=t(18174),St=t.n(xt),Mt=t(10036),Lt=t(72072),Ct=t(95460),Pt=t(11992),Dt=t(19126),Nt=t.n(Dt),Rt=t(50930),Ot=t(72579),Zt=t.n(Ot),kt=function(e,n){switch(e){case Xe.NAME:return Zt()(n,"".concat(e,".").concat(e,"Text.text"),"");case Xe.TITLE:var t=Zt()(n,"".concat(e,".").concat(e,"Text.text"),""),i=Zt()(n,"".concat(e,".releaseYear.year"),"");return i?"".concat(t," (").concat(i,")"):t;case Xe.GALLERY:return Zt()(n,"imageGallery.galleryText","");case Xe.LIST:return Zt()(n,"".concat(e,".name.originalText"),"")}},jt=function(e,n){return e===Xe.NAME||e===Xe.TITLE?"/".concat(e,"/").concat(n,"/mediaindex/"):"/".concat(e,"/").concat(n,"/")},Bt=function(e,n){var t=[];return n.forEach((function(n){var i,a=e===Xe.LIST?(0,I.Z)((0,v.Z)({},n),{node:(0,I.Z)((0,v.Z)({},n.node.item),{caption:(null===(i=n.node.description)||void 0===i?void 0:i.originalText)||n.node.item.caption})}):(0,v.Z)({},n);t.push(a)})),t},$t=function(e,n,t){var i=En[e],a=e===Xe.LIST?"items":"images",r="".concat(i,".").concat(a),o="".concat(i,".wrapFront"),s="".concat(i,".wrapBack"),l=function(i){return{images:Bt(e,Zt()(t,"".concat(i,".edges"),[])),title:kt(e,t),galleryUrl:jt(e,n),total:Zt()(t,"".concat(i,".total"),0),startCursor:Zt()(t,"".concat(i,".pageInfo.startCursor"),""),hasPreviousPage:Zt()(t,"".concat(i,".pageInfo.hasPreviousPage"),!1),endCursor:Zt()(t,"".concat(i,".pageInfo.endCursor"),""),hasNextPage:Zt()(t,"".concat(i,".pageInfo.hasNextPage"),!1)}},d=l(r),c=l(o),u=l(s),f=d.total?d:c.total?c:u;return{images:(0,Rt.Z)(d.images).concat((0,Rt.Z)(c.images),(0,Rt.Z)(u.images)),title:f.title,galleryUrl:f.galleryUrl,total:f.total,startCursor:f.startCursor,hasPreviousPage:f.hasPreviousPage,endCursor:f.endCursor,hasNextPage:d.hasNextPage}};var Vt,Ht=function(e){return 0!==e&&0===(e%(n=4)+n)%n;var n};!function(e){e.INITIALIZE="INITIALIZE",e.PAGE_LEFT="PAGE-LEFT",e.PAGE_RIGHT="PAGE-RIGHT",e.GOTO_IMAGE_ID="GOTO-IMAGE-ID",e.UPDATE_DISTANCE="UPDATE-DISTANCE",e.UPDATE_INTERSTITIAL_AVAILABLE="UPDATE-INTERSTITIAL-AVAIL",e.UPDATE_AD_BANNER_CLEARED="UPDATE-AD-BANNER-CLEARED",e.FETCH_IMAGES="FETCH-IMAGES",e.FETCH_IMAGES_PENDING="FETCH-IMAGES-PENDING",e.FETCH_IMAGES_DONE="FETCH-IMAGES-DONE",e.FETCH_IMAGES_FAILED="FETCH-IMAGES-FAILED",e.SHOW_EDIT_DRAWER="SHOW-EDIT-DRAWER",e.HIDE_EDIT_DRAWER="HIDE-EDIT-DRAWER",e.SHOW_REPORT_DRAWER="SHOW-REPORT-DRAWER",e.HIDE_REPORT_DRAWER="HIDE-REPORT-DRAWER",e.SHOW_BOTTOM_SHEET="SHOW-BOTTOM-SHEET",e.HIDE_BOTTOM_SHEET="HIDE-BOTTOM-SHEET",e.SHOW_PAGER="SHOW-PAGER",e.HIDE_PAGER="HIDE-PAGER",e.SET_MOUSE_TIMEOUT_ID="SET-MOUSE-TIMEOUT-ID",e.SET_LAST_TIME_MOUSE_MOVED="SET-LAST-TIME-MOUSE-MOVED"}(Vt||(Vt={}));var Gt=(0,p.createLogger)()("useMediaViewerState"),Ut={initialize:function(e){return function(n,t){var i=t(),a=i.initialImageId,r=i.type,o=i.listId;e||(n(a?Ut.fetchImageBatch({direction:"init",jumpTo:a}):Ut.fetchImageBatch({direction:"init",position:0})),n({type:Vt.INITIALIZE,payload:{setState:{position:0,type:r,listId:o,initialImageId:a,enablePagers:!0}}}))}},gotoImageId:function(e){return function(n,t){var i=Object.values(t().media).find((function(n){return n.node.id===e}));n(i?{type:Vt.GOTO_IMAGE_ID,payload:{position:i.position}}:Ut.fetchImageBatch({direction:"init",jumpTo:e}))}},fetchImageBatch:function(e){return function(n,t){var i,a=e.jumpTo,r=e.direction,o=e.position,s=t(),l=s.type,c=s.listId,u=s.media,f=s.isUserLoggedIn,m=function(e,n,t,i,a,r){var o=[],s={main:void 0};switch(e){case"init":s.main={id:n,jumpTo:a,first:In,last:10,lastYes:!0,firstYes:!0};break;case"left":o=(0,Rt.Z)(Array(In).keys()).map((function(e){var n=t-e;return n<=0?null:n})),s.main={id:n,before:i,last:In,lastYes:!0,firstYes:!1};break;case"right":o=(0,Rt.Z)(Array(In).keys()).map((function(e){var n=t+e;return n>r?null:n})),s.main={id:n,after:i,first:In,lastYes:!1,firstYes:!0}}return o=o.filter((function(e){return null!==e})),"init"!==e&&o.length<1&&(s.main=void 0),{fetchPositions:o,args:s}}(r,c,o,null===(i=u[s.position])||void 0===i?void 0:i.cursor,a,s.totalImages),p=m.fetchPositions,g=m.args,h=!(l===Xe.LIST&&f),v=d()().publicRuntimeConfig;n({type:Vt.FETCH_IMAGES_PENDING,payload:{fetchPositions:p,setState:{initiallyLoading:0===p.length&&!o}}});var I=[!!g.main&&s.gqlClient.query(vn(l),g.main,{url:v.graphQLEndpoint,serverSideCacheable:h}).toPromise().then((function(e){var i=$t(l,c,e.data);if(i.images.length<1){var a="mediaviewer queryData image was empty";throw Gt.error(a,{type:t().type,id:t().listId}),new Error(a)}n({type:Vt.FETCH_IMAGES_DONE,payload:{direction:r,fetchPositions:p,fetchResult:i}})})).catch((function(e){Gt.error("mediaviewer query resulted in error",{type:t().type,id:t().listId,error:e}),n({type:Vt.FETCH_IMAGES_FAILED,payload:{fetchPositions:p,setState:{initiallyLoading:!1},fetchError:e}})}))];Promise.all(I.filter(Boolean))}},page:function(e){return function(n,t){var i=t(),a={left:-1,right:1,load_left:-4,load_right:4},r=i.pageDirection;if((!i.loading[i.position]||i.showInterstitial)&&i.enablePagers){var o,s,l,d=i.showInterstitial;if(n(Ut.updateDistance(a[e])),o=t().distance,(Ht(o-1)||Ht(o+1))&&n(Ut.updateInterstitialAd()),0!==(l=t().distance)&&Math.abs(l)%4===0||i.adBannerCleared&&i.showInterstitial)null===(s=i.adHandlers)||void 0===s||s.updateBannerAd(),n(Ut.updateAdBannerCleared(!1));var c,u,m,p=i.showInterstitial&&r!==e?t().position:t().position+a[e],g=t().position+a["load_".concat(e)],h={type:i.type,subType:f.SubPageType.MEDIA_SINGLE,id:i.listId};switch(e){case"left":u=p<=0?t().totalImages:p,c=g<=0?1:u===t().totalImages?t().totalImages:g,m=Vt.PAGE_LEFT;break;case"right":u=p>i.totalImages?1:p,c=g>i.totalImages?t().totalImages:1===u?1:g,m=Vt.PAGE_RIGHT}i.media[u]||(c=u),i.media[c]||i.errors[c]||i.loading[c]||n(Ut.fetchImageBatch({direction:e,position:u}));var v,I=function(e,n,t){var i=bn[e],a=t?"mv_ad":"mv";return"".concat(Tn[n],"_").concat(a,"_").concat(i)}(e,i.type,d);if(t().showInterstitial)null===(v=i.adHandlers)||void 0===v||v.clearBannerAd(),n(Ut.updateAdBannerCleared(!0)),(0,Ct.K8)(I,h,"mvi-".concat(m),Pt.qB.ACTION_ONLY);else(0,Ct.K8)(I,h,"mv-".concat(m),Pt.qB.PAGE_HIT),n({type:m,payload:{position:u,refTag:I}})}}},updateDistance:function(e){return function(n,t){n({type:Vt.UPDATE_DISTANCE,payload:{distance:t().distance+e}})}},updateInterstitialAd:function(){return function(){var e=(0,i.Z)((function(e,n){var t,i,r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null===(t=n().adHandlers)||void 0===t?void 0:t.updateInterstitialAd()];case 1:return r=a.sent(),e({type:Vt.UPDATE_INTERSTITIAL_AVAILABLE,payload:{interstitialAvailable:!(0,Mt.isBlankAd)(null===r||void 0===r||null===(i=r.slotsMap)||void 0===i?void 0:i[u.INTERSTITIAL_SLOT_NAME])}}),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()},updateAdBannerCleared:function(e){return function(n){n({type:Vt.UPDATE_AD_BANNER_CLEARED,payload:{adBannerCleared:e}})}},showEdit:function(){return{type:Vt.SHOW_EDIT_DRAWER}},hideEdit:function(){return{type:Vt.HIDE_EDIT_DRAWER}},showReport:function(){return{type:Vt.SHOW_REPORT_DRAWER}},hideReport:function(){return{type:Vt.HIDE_REPORT_DRAWER}},showBottomSheet:function(){return{type:Vt.SHOW_BOTTOM_SHEET}},hideBottomSheet:function(){return{type:Vt.HIDE_BOTTOM_SHEET}},showPager:function(){return{type:Vt.SHOW_PAGER}},hidePager:function(){return{type:Vt.HIDE_PAGER}},setMouseTimeoutId:function(e){return function(n){n({type:Vt.SET_MOUSE_TIMEOUT_ID,payload:{mouseTimeoutId:e}})}},setLastTimeMouseMoved:function(e){return function(n){n({type:Vt.SET_LAST_TIME_MOUSE_MOVED,payload:{lastTimeMouseMoved:e}})}}},Wt=function(e,n){var t,i=n.type,a=n.payload;switch(i){case Vt.INITIALIZE:t=(0,v.Z)({},e,null===a||void 0===a?void 0:a.setState);break;case Vt.FETCH_IMAGES_PENDING:var r=a.fetchPositions,o=(0,v.Z)({},e.loading),s=(0,v.Z)({},e.media);r.forEach((function(e){s[e]||(o[e]=!0)})),t=(0,v.Z)((0,I.Z)((0,v.Z)({},e),{loading:o}),null===a||void 0===a?void 0:a.setState);break;case Vt.FETCH_IMAGES_DONE:var l,d,c=a.fetchResult,u=a.fetchPositions,f=a.direction,m=(0,v.Z)({},e.media),p=(0,v.Z)({},e.loading);c.images.forEach((function(e){if(m[e.position]||(m[e.position]=e,p[e.position]=!1),(0,T.getIsBrowser)()){var n=new Image;n.srcset=(0,M.gA)(e.node,!0),n.src=e.node.url}})),null===u||void 0===u||u.forEach((function(e){p[e]=!1}));var g="init"===f?null===(l=c.images)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.position:Yt(e.position,p,m,f,c);t=(0,I.Z)((0,v.Z)({},e),{initiallyLoading:!1,position:g,media:m,loading:p,listTitle:c.title,totalImages:c.total,enablePagers:c.total>1,galleryUrl:c.galleryUrl});break;case Vt.FETCH_IMAGES_FAILED:var h=a.fetchPositions,E=a.fetchError,b=(0,v.Z)({},e.loading),w=(0,v.Z)({},e.errors),y=(0,v.Z)({},e.media);h.forEach((function(e){b[e]=!1,y[e]||(w[e]=E)})),t=(0,I.Z)((0,v.Z)({},e,null===a||void 0===a?void 0:a.setState),{errors:w,loading:b});break;case Vt.PAGE_LEFT:case Vt.PAGE_RIGHT:case Vt.GOTO_IMAGE_ID:t=(0,I.Z)((0,v.Z)({},e),{position:a.position,refTag:a.refTag});break;case Vt.UPDATE_DISTANCE:var A=a.distance,_=e.distance>A?"left":"right",x=Ht(A)&&e.interstitialAvailable,S=Ht(A-1),L=Ht(A+1);t=(0,I.Z)((0,v.Z)({},e),{distance:a.distance,showInterstitial:x,prevIsInterstitial:S,nextIsInterstitial:L,pageDirection:_});break;case Vt.UPDATE_AD_BANNER_CLEARED:var C=a.adBannerCleared;t=(0,I.Z)((0,v.Z)({},e),{adBannerCleared:C});break;case Vt.UPDATE_INTERSTITIAL_AVAILABLE:var P=a.interstitialAvailable;t=(0,I.Z)((0,v.Z)({},e),{interstitialAvailable:P});break;case Vt.SHOW_EDIT_DRAWER:t=(0,I.Z)((0,v.Z)({},e),{showEditDrawer:!0,showReportDrawer:!1});break;case Vt.HIDE_EDIT_DRAWER:t=(0,I.Z)((0,v.Z)({},e),{showEditDrawer:!1});break;case Vt.SHOW_REPORT_DRAWER:t=(0,I.Z)((0,v.Z)({},e),{showReportDrawer:!0,showEditDrawer:!1});break;case Vt.HIDE_REPORT_DRAWER:t=(0,I.Z)((0,v.Z)({},e),{showReportDrawer:!1});break;case Vt.SHOW_BOTTOM_SHEET:t=(0,I.Z)((0,v.Z)({},e),{showBottomSheet:!0});break;case Vt.HIDE_BOTTOM_SHEET:t=(0,I.Z)((0,v.Z)({},e),{showBottomSheet:!1});break;case Vt.SHOW_PAGER:t=(0,I.Z)((0,v.Z)({},e),{pagerVisibility:!0});break;case Vt.HIDE_PAGER:t=(0,I.Z)((0,v.Z)({},e),{pagerVisibility:!1});break;case Vt.SET_MOUSE_TIMEOUT_ID:t=(0,I.Z)((0,v.Z)({},e),{mouseTimeoutId:a.mouseTimeoutId});break;case Vt.SET_LAST_TIME_MOUSE_MOVED:t=(0,I.Z)((0,v.Z)({},e),{lastTimeMouseMoved:a.lastTimeMouseMoved});break;default:throw new Error("No reducer defined for type: "+i)}return Gt.debug("reduced",i,"to new state",t,"payload",a),t},Ft=function(e,n,t,i,a,r,o,s,l){var d,u=(0,ae.m8)(),f=(0,_t.useRouter)(),m={type:e,listId:n,initialImageId:t,vanitySubType:a,vanityType:i,refTag:r,gqlClient:u,media:{},errors:{},loading:{},distance:0,showEditDrawer:!1,showReportDrawer:!1,showBottomSheet:!0,pagerVisibility:!0,mouseTimeoutId:0,lastTimeMouseMoved:new Date,enablePagers:!0,pageDirection:"init",adHandlers:o,isUserLoggedIn:s,adBannerCleared:!1,interstitialAvailable:!1,showInterstitial:!1,prevIsInterstitial:!1,nextIsInterstitial:!1,initiallyLoading:!1};l&&(m=Wt(m,{type:Vt.FETCH_IMAGES_DONE,payload:{direction:m.pageDirection,fetchResult:l,fetchPositions:null===(d=l.images)||void 0===d?void 0:d.map((function(e){return e.position}))}}));var p=St()(Wt,m),g=p[0],h=p[1],v={pageLeft:function(){return h(Ut.page("left"))},pageRight:function(){return h(Ut.page("right"))},showEdit:function(){return h(Ut.showEdit())},hideEdit:function(){return h(Ut.hideEdit())},showReport:function(){return h(Ut.showReport())},hideReport:function(){return h(Ut.hideReport())},showBottomSheet:function(){return h(Ut.showBottomSheet())},hideBottomSheet:function(){return h(Ut.hideBottomSheet())},gotoImageId:function(e){return h(Ut.gotoImageId(e))},showPager:function(){return h(Ut.showPager())},hidePager:function(){return h(Ut.hidePager())},setMouseTimeoutId:function(e){return h(Ut.setMouseTimeoutId(e))},setLastTimeMouseMoved:function(e){return h(Ut.setLastTimeMouseMoved(e))}},I=function(e){Lt.M6.isRightArrowKey(e)?v.pageRight():Lt.M6.isLeftArrowKey(e)&&v.pageLeft()};(0,c.useEffect)((function(){return window.addEventListener("keydown",I),function(){window.removeEventListener("keydown",I)}}),[]);var E=(0,c.useRef)(void 0),b=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=function(e){var n=e?Nt().parse(window.location.search.replace("?","")):{};return delete n.ref_,Nt().stringify(n)}((0,T.getIsBrowser)()),n=function(e,n){var t,i=e.position||0,a=e.media&&e.media[i],r=null===a||void 0===a?void 0:a.node.id,o=void 0,s=void 0;return r&&(o=e.vanitySubType&&e.vanityType?"/[mediaViewerType]/[vanityOrId]/[idWithVanity]/mediaviewer/[img]":"/[mediaViewerType]/[vanityOrId]/mediaviewer/[img]",s=e.vanitySubType&&e.vanityType?"/".concat(e.vanityType,"/").concat(e.vanitySubType,"/").concat(e.listId,"/mediaviewer/").concat(r,"/").concat(n&&"?".concat(n)):"/".concat(null!==(t=e.vanityType)&&void 0!==t?t:e.type,"/").concat(e.listId,"/mediaviewer/").concat(r,"/").concat(n&&"?".concat(n))),{url:o,path:s}}(g,e),t=n.url,i=n.path,a=g.position||0,r=g.media&&g.media[a],o=null===r||void 0===r?void 0:r.node.id,s=E.current;if(s&&a!==s&&r&&t){if(E.current=g.position,!o)return;if(!b.current)return void(b.current=!0);var l={shallow:!0,imageId:o};f.replace(t,i,l)}else if(window.location.href.indexOf(o)<0&&t){var d={shallow:!0,imageId:o};f.replace(t,i,d)}}),[g.position,g.media]),(0,c.useEffect)((function(){h(Ut.initialize(l))}),[]),(0,c.useDebugValue)(g),{state:g,actions:v}},Yt=function(e,n,t,i,a){var r=e,o="left"===i;if(void 0!==r&&!n[r]&&!t[r])if(a.images.length){var s=o?a.images.length-1:0;r=a.images[s].position}else{var l=Object.keys(t).sort();if(l.length){o&&l.reverse();var d=l.reduce((function(e,n){var t=e,i=Number(n);return(void 0===t||o&&i<r&&t>r||i>r&&t<r)&&(t=i),t}),void 0);r=d}}return r},Qt=function(e){var n,t,i,a,o,s,l,d,f,m=e.type,p=e.listId,g=e.imgId,h=e.vanityType,y=e.vanitySubType,A=e.refTag,_=e.adHandlers,x=e.hiddenNav,S=e.initialQueryData,M=e.initialQueryError,L=function(e){var n=document.getElementsByClassName(e);return!!(n.length>0&&n[0].matches(":hover"))},C=function(){return!(0,T.getIsNode)()&&(0,E.getIsMdot)(window.location.hostname)},P=function(){if(!te&&!C()){var e=L(Pn),n=L(Cn);e||n||O.hidePager()}},D=(0,nn.n)(),N=Ft(m,p,g,h,y,A,_,D,S?$t(m,p,S):void 0),R=N.state,O=N.actions,Z=R.showInterstitial,k=R.errors,j=R.position,B=R.loading,$=R.media,V=R.totalImages,H=R.initiallyLoading,G=(0,c.useState)(0),U=G[0],W=G[1],F=(0,c.useRef)(null),Y=k[j],K=null===(n=$[j])||void 0===n?void 0:n.node,X=null===(t=$[j-1])||void 0===t?void 0:t.node,J=null===(i=$[j+1])||void 0===i?void 0:i.node,ne=null===(a=$[j])||void 0===a?void 0:a.position,te=B[j]||H,ie=null===(s=null===(o=$[j])||void 0===o?void 0:o.node.correctionLink)||void 0===s?void 0:s.url,ae=null===(d=null===(l=$[j])||void 0===l?void 0:l.node.reportingLink)||void 0===d?void 0:d.url,re={countLabel:(0,ee.N)(wn,{position:ne,total:V}),previousImageLabel:(0,ee.N)(yn),nextImageLabel:(0,ee.N)(An),closePromptLabel:(0,ee.N)(_n)},oe=(0,b.useSwipeable)({onSwipedLeft:function(e){At(-e.deltaX,(function(e){return W(e)}),O.pageRight)},onSwipedRight:function(e){At(-e.deltaX,(function(e){return W(e)}),O.pageLeft)},onSwiping:function(e){var n,t;n=-e.deltaX,t=function(e){return W(e)},nt?tt=function(){t(yt(n))}:(t(yt(n)),nt=setTimeout((function(){tt&&tt(),wt()}),bt))},onSwiped:function(e){var n;n=function(e){return W(e)},wt(),setTimeout((function(){return n(0)}),bt)}}),se={onMouseMove:function(){R.pagerVisibility||O.showPager(),+(new Date).getTime()-R.lastTimeMouseMoved.getTime()>400&&(clearTimeout(R.mouseTimeoutId),O.setLastTimeMouseMoved(new Date),O.setMouseTimeoutId(setTimeout(P,2e3)))}};if((0,c.useEffect)((function(){C()&&O.showPager()}),[]),(0,c.useEffect)((function(){O.setMouseTimeoutId(setTimeout(P,5e3))}),[]),(0,c.useEffect)((function(){Z&&clearTimeout(R.mouseTimeoutId)}),[Z]),Y||M)return(0,r.jsx)(gt,{});var le={image:K||void 0,title:R.listTitle,description:(null===K||void 0===K||null===(f=K.caption)||void 0===f?void 0:f.plainText)||R.listTitle,openGraphData:{type:z.s.Website}},de=x?st:ot;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.Se,(0,v.Z)({},le)),(0,r.jsx)(Je.Z,{}),(0,r.jsx)(b.PageContentContainer,{children:(0,r.jsx)(It,{state:R,imagePosition:ne})}),(0,r.jsxs)(de,{"data-testid":xn,className:xn,children:[(0,r.jsx)(ft,(0,I.Z)((0,v.Z)({},oe,se),{"data-testid":Rn,onClick:function(e){Z?Gn(e,F.current,"ad-interstitial"):R.showBottomSheet?O.hideBottomSheet():O.showBottomSheet()},children:(0,r.jsx)(mt,{})})),R.enablePagers&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(lt,{isVisible:!te&&R.pagerVisibility,direction:"left",onSelect:O.pageLeft,className:Pn,ariaLabel:re.previousImageLabel}),(0,r.jsx)(dt,{isVisible:!te&&R.pagerVisibility,direction:"right",onSelect:O.pageRight,className:Cn,ariaLabel:re.nextImageLabel})]}),te&&!Z&&(0,r.jsx)(pt,{"data-testid":Dn,children:(0,r.jsx)(b.Loader,{})}),Z&&(0,r.jsx)(ht,{offset:U,ref:F,isMdot:C(),children:(0,r.jsx)(en.ZP,{name:u.INTERSTITIAL_SLOT_NAME})}),!R.showInterstitial&&!Y&&!M&&!te&&K&&(0,r.jsx)(Q,{image:K,"data-testid":Nn,offset:U,prevImage:R.prevIsInterstitial?void 0:X,nextImage:R.nextIsInterstitial?void 0:J},"image-"+K.id),!R.showInterstitial&&!Y&&!te&&K&&(0,r.jsx)(Ke,{className:Ln,imageData:K,content:{contextTitle:"".concat(R.listTitle),contextCount:re.countLabel},editFlow:ie?{desktopLink:ie,desktopOnOpen:function(){return O.showEdit()},resolveMobileURL:function(e){return e.correctionLink.url}}:void 0,reportFlow:ae?{desktopLink:ae,desktopOnOpen:function(){return O.showReport()},resolveMobileURL:function(e){return e.reportingLink.url}}:void 0,listId:p,isClosed:!R.showBottomSheet,onCloseClicked:O.hideBottomSheet,onOpenClicked:O.showBottomSheet,refTagPrefix:"".concat(Tn[R.type],"_mv")}),(0,r.jsx)(b.Drawer,{"data-testid":"mv-contribute-edit-drawer",className:On,isOpen:R.showEditDrawer,onCloseClicked:O.hideEdit,closePromptLabel:re.closePromptLabel,children:K&&(0,r.jsx)(w.o,{src:ie,onCloseMeCallback:O.hideEdit,className:Zn})}),(0,r.jsx)(b.Drawer,{className:kn,isOpen:R.showReportDrawer,onCloseClicked:O.hideReport,children:K&&(0,r.jsx)(w.o,{src:ae,onCloseMeCallback:O.hideReport,className:jn})})]})]})},qt=t(21396),zt=t(23110),Kt=t(60178),Xt=!0,Jt=function(e){var n=e.type,t=e.id,l=e.vanityType,c=e.vanitySubType,p=e.refTag,g=e.validImageId,v=e.initialQueryData,I=e.initialQueryError,E=(0,qt.D)();E.clientSideUrl=(0,u.updateClientSideUrl)(d()().publicRuntimeConfig.adsPublicSiteHost,(0,s.isDevNodeEnv)(),E.clientSideUrl);var T={clearBannerAd:function(){return(0,u.collapseAd)(u.AD_SLOT_NAMES.MEDIAVIEWER_BANNER)},updateBannerAd:(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return delete(e=JSON.parse(JSON.stringify(E))).slotSizeMap[u.INTERSTITIAL_SLOT_NAME],[4,h(e)];case 1:return n.sent(),[2]}}))})),updateInterstitialAd:(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(n){return E.isAbpEnabled?[2]:(delete(e=JSON.parse(JSON.stringify(E))).slotSizeMap[u.MEDIAVIEWER_BANNER_SLOT_NAME],[2,h(e)])}))}))};return(0,r.jsx)(m.ZP,{children:(0,r.jsxs)(Kt.Z,{hideNav:!0,hideFooter:!0,hideNavigationProgressBar:!0,baseColor:"baseAlt",orientContent:"full",cti:f.CTIS.GALLERIES_CTI,children:[(0,r.jsx)(Qt,{hiddenNav:!0,type:n,listId:t,imgId:g,vanityType:l,vanitySubType:c,refTag:p,adHandlers:T,initialQueryData:v,initialQueryError:I}),(0,zt.YN)(),(0,r.jsx)(o.CSAPageATFScript,{})]})})}},46651:function(e,n,t){t.d(n,{Z:function(){return T}});var i=t(52322),a=t(2784),r=t(57559),o=t(25140),s=t(57531),l=t(51250),d="ad-oo",c=function(e,n,t){var i=(0,l.rZ)(d,t),a=0;if(!(void 0!==i&&("number"!==typeof i&&"string"!==typeof i||(a=parseInt(i)),a&n&&!e||!(a&n)&&e))){e||(a|=n);var r=new Date;r.setHours(r.getHours()+36),(0,l.Ys)(d,a.toString(),r,"shared")}},u=t(76635),f=t(15907),m=t(90581),p=t(21218),g=t(31265),h=t(60412),v=function(e){(0,p.Z)(t,e);var n=(0,g.Z)(t);function t(){return(0,m.Z)(this,t),n.apply(this,arguments)}var a=t.prototype;return a.shouldComponentUpdate=function(){return!1},a.render=function(){var e,n,t=null===(e=this.props.adSlotsInfo)||void 0===e?void 0:e.slots,a=t&&(null===(n=t[h.A.SIS_PIXEL])||void 0===n?void 0:n.slotMarkup);return a?(0,i.jsx)("div",{ref:f.dangerouslySetHTML.bind(null,a)}):null},t}(a.Component),I=function(e,n){var t;null===window||void 0===window||null===(t=window.mediaOrchestrator)||void 0===t||t.publish(e,n)},E=function(e){var n=e.adSlotsInfo;"undefined"===typeof window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1);var t=function(){(0,f.isFullscreen)()||(0,f.makeAdAJAXRequest)(n).finally((function(){return f.responsiveAdAPIWrapper.setPreviousWindowWidth()}))},r=function(e){return{slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",atfSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}}(n),o=r.slotsEnabled,s=r.clientSideUrlBase,l=r.atfSlots,d=r.slotSizeMap,c=r.apsSlotInfoMap;a.useEffect((function(){var e,i,a;if(o&&!(0,u.isEmpty)(d)&&(f.responsiveAdAPIWrapper.setPreviousWindowWidth(),e=(0,u.debounce)(t,750),window.addEventListener("resize",e),(null===n||void 0===n||null===(i=n.adRefreshInfo)||void 0===i?void 0:i.isEnabled)&&(!1===(null===(a=window.ad_utils)||void 0===a?void 0:a.responsiveAdAPI.inSplitAdWeblabAndBtfSlotCompleted)?window.addEventListener("splitAdCallCompleted",(function(){return(0,f.handleAutoRefresh)(n)})):"complete"===document.readyState?(0,f.handleAutoRefresh)(n):window.addEventListener("load",(function(){return(0,f.handleAutoRefresh)(n)})))),!o||!s){var r={type:f.AdVideoEventType.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:h.A.INLINE20,timestamp:Date.now()},l={type:f.AdVideoEventType.EMPTY,slotName:"",timestamp:Date.now()};I(f.MediaEvent.MEDIA_PLAYBACK_EVENT_NAME,r),I(f.MediaEvent.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,l)}return function(){e&&window.removeEventListener("resize",e)}}),[]);var m=function(e,n,t,i,a){return"\n        if (window && window.ad_utils && window.ad_utils.makeAtfSlotsCall) {\n            window.ad_utils.makeAtfSlotsCall(\n                ".concat(e,",\n                '").concat(n,"',\n                '").concat(t,"',\n                ").concat(JSON.stringify(i),",\n                ").concat(a?JSON.stringify(a):"{}",");\n    }")}(o,s,l,d,c);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{adSlotsInfo:n}),(0,i.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:m}})]})};function T(){var e,n,t,a,l,d,u=(0,o.B)(),f=(0,s.Ok)().adSlotsInfo;void 0!==(null===u||void 0===u||null===(e=u.context)||void 0===e||null===(n=e.sidecar)||void 0===n||null===(t=n.ads)||void 0===t?void 0:t.adsCcbaConsent)&&c(null===(a=u.context.sidecar)||void 0===a||null===(l=a.ads)||void 0===l?void 0:l.adsCcbaConsent,16,null===(d=u.context)||void 0===d?void 0:d.headers);return(0,i.jsx)(r.Z,{name:"IMDbNextAdPageData",children:(0,i.jsx)(E,{adSlotsInfo:f})})}},60412:function(e,n,t){t.d(n,{A:function(){return i}});var i={INLINE20:"inline20",INLINE40_MAIN:"inline40-responsive-main",INLINE40_SIDEBAR:"inline40-responsive-sidebar",INLINE40:"inline40",INLINE50:"inline50",INLINE60:"inline60",INLINE80:"inline80",INLINEBOTTOM:"inlinebottom",INTERSTITIAL:"interstitial",MEDIAVIEWER_BANNER:"mediaviewer_banner",PROMOTED_WATCH_BAR:"promoted_watch_bar",PROVIDER_PROMOTION:"provider_promotion",SIS_PIXEL:"sis_pixel",VIDEO_CAROUSEL_ADSCANNER:"video_carousel_adscanner"}}}]);